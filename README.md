
# Pipex

Pipex is a small Unix programming project that recreates how shell pipelines work.
It uses `pipe()`, `fork()`, `dup2()` and `execve()` to connect the output of one command to the input of the next.

In other words, it aims to behave like:

```bash
< infile cmd1 | cmd2 | ... | cmdN > outfile
```

## What this project is for

- Understand process creation (`fork`) and program execution (`execve`)
- Manipulate file descriptors and redirections (`dup2`)
- Build pipelines with `pipe`
- Resolve commands using the `PATH` environment variable

## Build

```bash
make
```

Bonus binary:

```bash
make bonus
```

Useful targets:

- `make clean` removes object files (the `obj/` directory)
- `make fclean` removes objects and binaries
- `make re` rebuilds
- `make rebonus` rebuilds the bonus binary

## Usage

### Mandatory

```bash
./pipex infile "cmd1 arg1 arg2" "cmd2 arg1" outfile
```

Equivalent shell command:

```bash
< infile cmd1 arg1 arg2 | cmd2 arg1 > outfile
```

This implementation also accepts more than 2 commands:

```bash
./pipex infile "cmd1" "cmd2" "cmd3" outfile
```

### Bonus

```bash
./pipex_bonus infile "cmd1" "cmd2" ... "cmdN" outfile
```

## Example

```bash
: > output.txt
make
./pipex input.txt "cat" "wc -l" output.txt
cat output.txt
```

## Notes / limitations

- Command parsing is basic: arguments are split on spaces, so complex quoting (e.g. `awk '{print $1}'`) is not handled like a real shell.
- `outfile` must already exist and be writable (the current code opens it with `O_WRONLY` only).
- `outfile` is not truncated by the program (no `O_TRUNC`): if the new output is shorter than the previous content, trailing bytes may remain. You can clear it before running with `: > outfile`.

## Project layout

- `src/` : C sources
- `include/` : headers
- `obj/` : object files generated by the Makefile

